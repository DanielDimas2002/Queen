<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NOTEROOM - Painel de Controle</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="Painel.css">
    <link rel="stylesheet" href="cabecalho.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Ruda:wght@400..900&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Ruda:wght@400..900&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="PopUp.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

</head>

<body>
    <header class="cabecalho">
        <div class="controle-logo">
            <a href="../LandingPage.html">
                <img id="separa-logo-principal" class="logo-titulo" src="Midia/logoNR.png" alt="Logo">
            </a>
        </div>
        <!-- Navegação do menu com botões de funcionalidades -->
        <nav class="menu">
            <!-- Botão para adicionar novos alunos, sempre ativo -->
            <button id="PopUpAddAluno" class="popup-ativar menu-button">Adicionar Alunos</button>

            <!-- Botão para definir a média, inicialmente desativado -->
            <button id="PopUpDefMedia" class="menu-button" disabled>Definir Média</button>

            <!-- Botão para pontuar alunos em grupo, inicialmente desativado -->
            <button id="PopUpPontuar" class="popup-ativar menu-button" disabled>Pontuar em Grupo</button>

            <!-- Botão para definir a nota mínima de recuperação, inicialmente desativado -->
            <button id="PopUpNotaRecu" class="menu-button" disabled>Definir Nota de Recuperação</button>

            <!-- Botão para baixar a tabela de alunos, inicialmente desativado -->
            <button id="PopUpDownloadTabela" class="popup-ativar menu-button" disabled>Baixar Tabela</button>
        </nav>


        <div class="dropdown">
            <a class="dropdown-toggle" href="#" role="button" id="gearDropdown" data-bs-toggle="dropdown"
                aria-expanded="false">
                <!-- Ícone de engrenagem -->
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor"
                    class="bi bi-gear-fill" viewBox="0 0 16 16">
                    <path
                        d="M9.405 1.05c-.413-1.4-2.397-1.4-2.81 0l-.1.34a1.464 1.464 0 0 1-2.105.872l-.31-.17c-1.283-.698-2.686.705-1.987 1.987l.169.311c.446.82.023 1.841-.872 2.105l-.34.1c-1.4.413-1.4 2.397 0 2.81l.34.1a1.464 1.464 0 0 1 .872 2.105l-.17.31c-.698 1.283.705 2.686 1.987 1.987l.311-.169a1.464 1.464 0 0 1 2.105.872l.1.34c.413 1.4 2.397 1.4 2.81 0l.1-.34a1.464 1.464 0 0 1 2.105-.872l.31.17c1.283.698 2.686-.705 1.987-1.987l-.169-.311a1.464 1.464 0 0 1 .872-2.105l.34-.1c1.4-.413 1.4-2.397 0-2.81l-.34-.1a1.464 1.464 0 0 1-.872-2.105l.17-.31c.698-1.283-.705-2.686-1.987-1.987l-.311.169a1.464 1.464 0 0 1-2.105-.872zM8 10.93a2.929 2.929 0 1 1 0-5.86 2.929 2.929 0 0 1 0 5.858z" />
                </svg>
            </a>
            <!-- Menu dropdown -->
            <ul class="dropdown-menu" aria-labelledby="gearDropdown">
                <li><a class="dropdown-item" href="../Turmas/Turmas.html">Voltar</a></li>
                <li><a class="dropdown-item" href="../Login.html">Sair</a></li>
            </ul>
        </div>
        </div>
    </header>
    <main>
        <h1>Painel de Controle</h1>
        <section id="Tabela">
            <h2 id="Rascunho">Tabela de Alunos</h2>
            <!-- Tabela para exibir o relatório -->
            <table id="TabelaAlunos" border="1">
                <thead>
                    <tr>
                        <th>Nome</th>
                        <th>Nota 1</th>
                        <th>Nota 2</th>
                        <th>Nota 3</th>
                        <th>Média</th>
                        <th>Situação</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- As linhas dos alunos serão inseridas aqui -->
                </tbody>
            </table>
            
        </section>
    </main>

    <!-- Modal Criar Turma -->
    <div id="popupTurma" class="popup">
        <div class="popup-content">
            <span class="close" id="closeTurma">&times;</span>
            <h2>Adição de alunos</h2>
            <form id="CadastrarAlunos">
                <label for="inputNomesTurma">Informe o Nome do aluno:</label>
                <input type="text" id="NomeAluno" required class="camposEntrada">
                <input type="submit" id="salvarTurma" value="Salvar Aluno" class="btnEnvio">
            </form>
        </div>
    </div>

    <!-- Modal Definir Média -->
    <div id="popupMedia" class="popup">
        <div class="popup-content">
            <span class="fechar">&times;</span>
            <h2>Definir Média</h2>
            <form id="formMedia">
                <label for="inputMedia">Informe a média necessária para aprovação:</label>
                <input type="number" id="inputMedia" required class="camposEntrada">
                <button type="submit" class="btnEnvio">Salvar</button>
            </form>
        </div>
    </div>

    <!-- Modal Pontuar Atividades -->
    <div id="popupPontuar" class="popup">
        <div class="popup-content">
            <span class="close" id="closePontuar">&times;</span>
            <h2>Pontuar Atividades</h2>
            <form id="formPontuar">
                <p>Nome dos Alunos: <input type="text" id="NomesAlunos" class="camposEntrada"></p>
                <p>Nota dos Alunos: <input type="text" id="NotaAluno" class="camposEntrada"></p>
                <p>Defina a avaliação:</p>
                <p>
                    <input type="radio" value="Avaliação1" id="Av1" name="LocalAv" required>
                    <label for="Av1">Avaliação 1</label>
                    <input type="radio" value="Avaliação2" id="Av2" name="LocalAv" required>
                    <label for="Av2">Avaliação 2</label>
                    <input type="radio" value="Avaliação3" id="Av3" name="LocalAv" required>
                    <label for="Av3">Avaliação 3</label>
                </p>
                <input type="submit" value="Pontuar" class="btnEnvio">
            </form>
        </div>
    </div>

    <!-- Modal Definir Nota de Recuperação -->
    <div id="popupRecuperacaoNota" class="popup">
        <div class="popup-content">
            <span class="fechar">&times;</span>
            <h2>Definir Nota de Recuperação</h2>
            <form id="formNotaRecu">
                <label for="inputRecuperacao">Informe a nota para aprovação na recuperação:</label>
                <input type="number" id="inputRecuperacao" required class="camposEntrada">
                <button type="submit" class="btnEnvio">Salvar</button>
            </form>
        </div>
    </div>

    <!-- Modal Download -->
    <div id="popupDownload" class="popup">
        <div class="popup-content">
            <span class="close" id="closeDownload">&times;</span>
            <h2>Opções de Download</h2>
            <button id="downloadPDF" class="btnEnvio">Baixar em PDF</button>
            <button id="downloadExcel" class="btnEnvio">Baixar em Excel</button>
            <button id="downloadCSV" class="btnEnvio">Baixar em CSV</button> <!-- Novo botão -->
        </div>
    </div>



    <script>
        const menuToggle = document.getElementById('menuToggle');
        const menu = document.querySelector('.menu');

        // Adiciona um evento de clique no botão de menu hamburguer
        menuToggle.addEventListener('click', () => {
            menu.classList.toggle('menu-ativo'); // Alterna entre mostrar e esconder o menu
        });


        // Função para capturar o parâmetro 'id' da URL
        function getTurmaIdFromUrl() {
            const params = new URLSearchParams(window.location.search);
            return params.get('id'); // Retorna o valor do parâmetro 'id'
        }

        // Recuperar o ID da turma
        const turmaId = getTurmaIdFromUrl();

        if (!turmaId) {
            alert('ID da turma não encontrado!');
            // Redirecione ou tome uma ação apropriada
        } else {
            console.log('ID da turma:', turmaId);
            // Aqui você pode usar o ID para buscar mais dados
        }


    </script>

    <!--<script src="versao17.js"></script>Inclui o arquivo JavaScript -->
    <script src="PainelDeControle.js"></script>
    
    <!--Extenções para baixar os formatos da tabela-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js"></script><!--PDF-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.16/jspdf.plugin.autotable.min.js"></script><!--CSV-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script><!--XLSX-->

    <!-- Bootstrap JavaScript (necessário para o dropdown) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

</body>

</html>
